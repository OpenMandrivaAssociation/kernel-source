#
# Spec file generated by kdist version v0.0-28-g23fe
#
%define name		kernel-source
%define version		3.2.1

%define src_uname_r	3.2.1-2
%define uname_r		%{nil}

%define source_release	2
%define build_release	0%{nil}

%define archive		kernel-source-3.2.1-2

%define build_srpm	1
%define no_source	1

%define source_path	/usr/src/linux-%{src_uname_r}

Name:			%{name}
Summary:		Linux kernel source files
Version:		%{version}
Release:		%mkrel %{source_release}
License:		GPL v2
Group:			System/Kernel and hardware
URL:			http://www.kernel.org
Source0:		%{archive}.tar.bz2
Buildarch:		noarch
BuildRoot:		%{_tmppath}/%{name}-%{version}-root
AutoReqProv:		no

%define debug_package	%{nil}
%define __check_files	%{nil}

%description
This package provides the whole kernel source files.

%install
mkdir -p %{buildroot}%{source_path}
tar -xf %{SOURCE0} --strip-components=1 -C %{buildroot}%{source_path}

%clean
rm -rf %{buildroot}

%files
%defattr (-, root, root)
%{source_path}

%changelog
* Mon Jan 23 2012 Franck Bui <franck.bui@mandriva.com> 
  + Mandriva Release v3.2.1-2
  + proc: clean up and fix /proc/<pid>/mem handling
  + ACPICA: Fix to allow region arguments to reference other scopes
